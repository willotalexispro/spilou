---
import settings from '../../config/settings';

const { title } = Astro.props;

const breadcrumbSchema = {
	'@context': 'https://schema.org',
	'@type': 'BreadcrumbList',
	itemListElement: [
		{
			'@type': 'ListItem',
			position: 1,
			name: 'Accueil',
			item: settings.url,
		},
		{
			'@type': 'ListItem',
			position: 2,
			name: 'Blog',
			item: `${settings.url}/blog`,
		},
		{
			'@type': 'ListItem',
			position: 3,
			name: title,
		},
	],
};
---

<nav class="breadcrumbs" aria-label="Fil d'Ariane">
	<ol class="breadcrumbs__list">
		<li class="breadcrumbs__item"><a href="/">Accueil</a></li>
		<li class="breadcrumbs__sep" aria-hidden="true">›</li>
		<li class="breadcrumbs__item"><a href="/blog/">Blog</a></li>
		<li class="breadcrumbs__sep" aria-hidden="true">›</li>
		<li class="breadcrumbs__item breadcrumbs__current" aria-current="page">{title}</li>
	</ol>
</nav>
<script type="application/ld+json" set:html={JSON.stringify(breadcrumbSchema)} />

<style>
	.breadcrumbs {
		max-width: var(--theme-blog-post-header-width);
		margin: 0 auto;
		padding: 0.5rem 2rem;
	}
	.breadcrumbs__list {
		display: flex;
		align-items: center;
		gap: 0.5rem;
		list-style: none;
		margin: 0;
		padding: 0;
		font-size: 0.85rem;
		flex-wrap: wrap;
	}
	.breadcrumbs__item a {
		color: var(--theme-primary);
		text-decoration: none;
	}
	.breadcrumbs__item a:hover {
		text-decoration: underline;
	}
	.breadcrumbs__current {
		opacity: 0.7;
	}
	.breadcrumbs__sep {
		opacity: 0.5;
	}
</style>
